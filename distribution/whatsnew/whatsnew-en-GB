Several buf fixes
New and improved UI